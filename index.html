<script>
function calculate(){
  let homeInput = document.getElementById("home");
  let awayInput = document.getElementById("away");
  let out = document.getElementById("output");

  let h = parseMatches(homeInput.value);
  let a = parseMatches(awayInput.value);

  if(h.invalid || a.invalid){
    out.innerText = "âŒ Ø£ØµÙ„Ø­ Ø§Ù„ØµÙŠØºØ©";
    return;
  }

  if(h.matches.length < 5 || a.matches.length < 5){
    out.innerText = "âš ï¸ Ù„Ø§Ø²Ù… 5 Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚";
    return;
  }

  // Clean Sheets Ù„Ù„Ø´Ù…Ø§Ù„
  let hCS = h.matches.filter(x => x.a === 0).length;

  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙ…ÙŠÙ†
  let aScored = a.matches.filter(x => x.f > 0).length;
  let aHighGoals = a.matches.filter(x => x.f >= 2).length;

  // GG ØªØ§Ø±ÙŠØ®ÙŠ
  let hGG = h.matches.filter(x => x.f > 0 && x.a > 0).length;
  let aGG = a.matches.filter(x => x.f > 0 && x.a > 0).length;

  let GG = "Ù„Ø§";

  if(hGG >= 3 && aGG >= 3 && aScored >= 3){
    GG = "Ù†Ø¹Ù…";
  }

  // ÙƒØ³Ø± GG Ø¨Ø¯ÙØ§Ø¹ Ù‚ÙˆÙŠ
  if(hCS >= 2 && aHighGoals <= 2){
    GG = "Ù„Ø§";
  }

  let winner = "ØªØ¹Ø§Ø¯Ù„";
  if(hCS > aScored) winner = "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù…Ø§Ù„";
  else if(aScored > hCS) winner = "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†";

  let score = "1-1";
  if(GG === "Ù„Ø§"){
    score = (winner === "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù…Ø§Ù„") ? "2-0" : "0-2";
  }

  out.innerHTML = `
  ğŸ† <b>Ø§Ù„ÙØ§Ø¦Ø² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</b> ${winner}<br>
  âš½ <b>GG:</b> ${GG}<br>
  ğŸ“Š <b>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨:</b> ${score}
  `;
}
</script>
